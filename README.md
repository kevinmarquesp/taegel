# `taegel` youtube audio downloader

## Installation
`pip` installation:
```bash
python -m pip install git+https://github.com/kevinmarquesp/taegel
```

Manual installation:
```bash
git clone https://github.com/kevinmarquesp/taegel
python -m pip install ./taegel
rm -rf taegel
```

## Contributing

### Running tests
There are two types of tests: The **interface** tests, that you run when you just
want to see how every thing is displayed, and the **behavior** tests, which is
the most important. The tests related to the user interface should be run only
in your computer.

Some tests will create a `tmp_{uuid}` file in your current directory, to count
the amount of downloads or just to test the interface of the downloading
process, that are deleted once the test is done. But you can set the tests to
keep that directories, maybe to inspect the downloaded files.
```bash
# check the user interface
poetry run pytest -s tests

# skipt the interface related tests (applied in Github Actions)
SKIP_INTERFACE=1 poetry run pytest tests

# keep the temp directories generated by the tests
DELETE_TMP=0 poetry run pytest -s tests
```
> **NOTE:** The `-s` option is to let the `pytest` module display the output
of the functions in the tests.

### todos
- [ ] **`controllers.data:`** use the number of processess specified by the
user to fetch the video urls from a playlist (which means: fetch more than one
playlist at the same time)
- [ ] **`ci/cd:`** add type checking with `mypy` module
- [ ] **`ci/cd:`** write tests for the most of the controllers functions
- [ ] **`feat:`** save the channel name as artist in the metadata
- [ ] **`app:`** handle the cache files and directories (without the reading
feature yet, be patient)
    - [ ] **`1:`** save the raw arguments into the cash directory
    - [ ] **`2:`** save the list of albums and delete the raw one
    - [ ] **`3:`** clear that directorie when finish
        - [ ] **`feat:`** function to delete the empty directories in the cache
    - [ ] **`4:`** create and update the *done list* file after each download
    (even if it fails)
- [x] **`ref:`** ~~create an dict type for the download logging communication~~
- [x] **`docs:`** ~~add a todo list~~
- [x] **`controllers.youtube:`** ~~create a separated function just to handle the
rename of the downloaded file (some times it download as *mp4* format)~~
- [x] **`controllers.youtube:`** ~~abstract the connection with youtbue api in a
function in  the `models` module~~
